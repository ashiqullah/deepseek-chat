{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./chat.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"chatContainer\"];\nfunction AppComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"h2\");\n    i0.ɵɵtext(2, \"Welcome to DeepSeek Chat!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Start a conversation by typing your message below.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17)(2, \"div\", 18)(3, \"span\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 21);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    i0.ɵɵclassProp(\"user-message\", message_r2.role === \"user\")(\"assistant-message\", message_r2.role === \"assistant\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(message_r2.role === \"user\" ? \"You\" : \"Assistant\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 7, message_r2.timestamp, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(message_r2.content);\n  }\n}\nfunction AppComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 17)(2, \"div\", 18)(3, \"span\", 19);\n    i0.ɵɵtext(4, \"Assistant\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 23)(6, \"div\", 24);\n    i0.ɵɵelement(7, \"span\")(8, \"span\")(9, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" Thinking... \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AppComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Send\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Sending...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AppComponent {\n  constructor(chatService) {\n    this.chatService = chatService;\n    this.title = 'DeepSeek Chat';\n    this.messages = [];\n    this.currentMessage = '';\n    this.conversationId = '';\n    this.isLoading = false;\n    this.isConnected = false;\n    this.conversationId = this.generateConversationId();\n  }\n  ngOnInit() {\n    this.checkConnection();\n  }\n  ngAfterViewChecked() {\n    this.scrollToBottom();\n  }\n  checkConnection() {\n    this.chatService.healthCheck().subscribe({\n      next: () => {\n        this.isConnected = true;\n      },\n      error: error => {\n        console.error('Connection failed:', error);\n        this.isConnected = false;\n      }\n    });\n  }\n  sendMessage() {\n    if (!this.currentMessage.trim() || this.isLoading) {\n      return;\n    }\n    const userMessage = {\n      role: 'user',\n      content: this.currentMessage,\n      timestamp: new Date()\n    };\n    this.messages.push(userMessage);\n    this.isLoading = true;\n    const request = {\n      message: this.currentMessage,\n      conversationId: this.conversationId\n    };\n    const messageToSend = this.currentMessage;\n    this.currentMessage = '';\n    this.chatService.sendMessage(request).subscribe({\n      next: response => {\n        if (response.success) {\n          const assistantMessage = {\n            role: 'assistant',\n            content: response.response,\n            timestamp: new Date()\n          };\n          this.messages.push(assistantMessage);\n          this.conversationId = response.conversationId;\n        } else {\n          this.addErrorMessage(response.error || 'Unknown error occurred');\n        }\n        this.isLoading = false;\n      },\n      error: error => {\n        console.error('Error sending message:', error);\n        this.addErrorMessage('Failed to send message. Please try again.');\n        this.isLoading = false;\n      }\n    });\n  }\n  clearChat() {\n    this.chatService.clearChatHistory(this.conversationId).subscribe({\n      next: () => {\n        this.messages = [];\n        this.conversationId = this.generateConversationId();\n      },\n      error: error => {\n        console.error('Error clearing chat:', error);\n      }\n    });\n  }\n  onKeyPress(event) {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n  addErrorMessage(error) {\n    const errorMessage = {\n      role: 'assistant',\n      content: `Error: ${error}`,\n      timestamp: new Date()\n    };\n    this.messages.push(errorMessage);\n  }\n  generateConversationId() {\n    return 'conv_' + Math.random().toString(36).substr(2, 9);\n  }\n  scrollToBottom() {\n    try {\n      this.chatContainer.nativeElement.scrollTop = this.chatContainer.nativeElement.scrollHeight;\n    } catch (err) {}\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ChatService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      viewQuery: function AppComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chatContainer = _t.first);\n        }\n      },\n      decls: 21,\n      vars: 15,\n      consts: [[\"chatContainer\", \"\"], [1, \"chat-container\"], [1, \"chat-header\"], [1, \"connection-status\"], [1, \"status-dot\"], [1, \"clear-btn\", 3, \"click\", \"disabled\"], [1, \"chat-messages\"], [\"class\", \"welcome-message\", 4, \"ngIf\"], [\"class\", \"message\", 3, \"user-message\", \"assistant-message\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"message assistant-message\", 4, \"ngIf\"], [1, \"chat-input\"], [1, \"input-container\"], [\"placeholder\", \"Type your message here... (Press Enter to send, Shift+Enter for new line)\", \"rows\", \"1\", 1, \"message-input\", 3, \"ngModelChange\", \"keydown\", \"ngModel\", \"disabled\"], [1, \"send-btn\", 3, \"click\", \"disabled\"], [4, \"ngIf\"], [1, \"welcome-message\"], [1, \"message\"], [1, \"message-content\"], [1, \"message-header\"], [1, \"message-role\"], [1, \"message-time\"], [1, \"message-text\"], [1, \"message\", \"assistant-message\"], [1, \"message-text\", \"loading\"], [1, \"typing-indicator\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"h1\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵelement(5, \"span\", 4);\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_7_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.clearChat());\n          });\n          i0.ɵɵtext(8, \" Clear Chat \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"div\", 6, 0);\n          i0.ɵɵtemplate(11, AppComponent_div_11_Template, 5, 0, \"div\", 7)(12, AppComponent_div_12_Template, 10, 10, \"div\", 8)(13, AppComponent_div_13_Template, 11, 0, \"div\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 10)(15, \"div\", 11)(16, \"textarea\", 12);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AppComponent_Template_textarea_ngModelChange_16_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.currentMessage, $event) || (ctx.currentMessage = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵlistener(\"keydown\", function AppComponent_Template_textarea_keydown_16_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.onKeyPress($event));\n          });\n          i0.ɵɵtext(17, \"      \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"button\", 13);\n          i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_18_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.sendMessage());\n          });\n          i0.ɵɵtemplate(19, AppComponent_span_19_Template, 2, 0, \"span\", 14)(20, AppComponent_span_20_Template, 2, 0, \"span\", 14);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.title);\n          i0.ɵɵadvance();\n          i0.ɵɵclassProp(\"connected\", ctx.isConnected)(\"disconnected\", !ctx.isConnected);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isConnected ? \"Connected\" : \"Disconnected\", \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.messages.length === 0);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.messages.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.currentMessage);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading || !ctx.isConnected);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.currentMessage.trim() || ctx.isLoading || !ctx.isConnected);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n      styles: [\"\\n\\n.chat-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100vh;\\n  max-width: 800px;\\n  margin: 0 auto;\\n  background: white;\\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\\n}\\n\\n\\n\\n.chat-header[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  color: white;\\n  padding: 1rem 2rem;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  border-bottom: 1px solid #e0e0e0;\\n}\\n\\n.chat-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 1.5rem;\\n  font-weight: 600;\\n}\\n\\n.connection-status[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  font-size: 0.9rem;\\n  padding: 0.5rem 1rem;\\n  border-radius: 20px;\\n  background: rgba(255, 255, 255, 0.1);\\n}\\n\\n.status-dot[_ngcontent-%COMP%] {\\n  width: 8px;\\n  height: 8px;\\n  border-radius: 50%;\\n  background: #ff4444;\\n}\\n\\n.connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%] {\\n  background: #4caf50;\\n}\\n\\n.clear-btn[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.2);\\n  color: white;\\n  border: 1px solid rgba(255, 255, 255, 0.3);\\n  padding: 0.5rem 1rem;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n}\\n\\n.clear-btn[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background: rgba(255, 255, 255, 0.3);\\n}\\n\\n.clear-btn[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n\\n\\n\\n.chat-messages[_ngcontent-%COMP%] {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 1rem;\\n  background: #f8f9fa;\\n  scroll-behavior: smooth;\\n}\\n\\n.welcome-message[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 2rem;\\n  color: #666;\\n}\\n\\n.welcome-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  color: #333;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  margin-bottom: 1rem;\\n  display: flex;\\n  animation: _ngcontent-%COMP%_fadeIn 0.3s ease-in;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n  from { opacity: 0; transform: translateY(10px); }\\n  to { opacity: 1; transform: translateY(0); }\\n}\\n\\n.user-message[_ngcontent-%COMP%] {\\n  justify-content: flex-end;\\n}\\n\\n.assistant-message[_ngcontent-%COMP%] {\\n  justify-content: flex-start;\\n}\\n\\n.message-content[_ngcontent-%COMP%] {\\n  max-width: 70%;\\n  padding: 1rem;\\n  border-radius: 18px;\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  color: white;\\n  border-bottom-right-radius: 5px;\\n}\\n\\n.assistant-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  background: white;\\n  color: #333;\\n  border: 1px solid #e0e0e0;\\n  border-bottom-left-radius: 5px;\\n}\\n\\n.message-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 0.5rem;\\n  font-size: 0.8rem;\\n  opacity: 0.8;\\n}\\n\\n.message-role[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n}\\n\\n.message-text[_ngcontent-%COMP%] {\\n  line-height: 1.5;\\n  white-space: pre-wrap;\\n  word-wrap: break-word;\\n}\\n\\n\\n\\n.message-text.loading[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 3px;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  width: 6px;\\n  height: 6px;\\n  border-radius: 50%;\\n  background: #999;\\n  animation: _ngcontent-%COMP%_typing 1.4s infinite ease-in-out;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1) { animation-delay: -0.32s; }\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2) { animation-delay: -0.16s; }\\n\\n@keyframes _ngcontent-%COMP%_typing {\\n  0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }\\n  40% { transform: scale(1); opacity: 1; }\\n}\\n\\n\\n\\n.chat-input[_ngcontent-%COMP%] {\\n  background: white;\\n  border-top: 1px solid #e0e0e0;\\n  padding: 1rem;\\n}\\n\\n.input-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 1rem;\\n  align-items: flex-end;\\n}\\n\\n.message-input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 0.75rem;\\n  border: 2px solid #e0e0e0;\\n  border-radius: 10px;\\n  resize: none;\\n  font-family: inherit;\\n  font-size: 1rem;\\n  line-height: 1.4;\\n  max-height: 120px;\\n  min-height: 45px;\\n  transition: border-color 0.3s ease;\\n}\\n\\n.message-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #667eea;\\n}\\n\\n.message-input[_ngcontent-%COMP%]:disabled {\\n  background: #f5f5f5;\\n  cursor: not-allowed;\\n}\\n\\n.send-btn[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  color: white;\\n  border: none;\\n  padding: 0.75rem 1.5rem;\\n  border-radius: 10px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  transition: all 0.3s ease;\\n  min-width: 80px;\\n}\\n\\n.send-btn[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  transform: translateY(-2px);\\n  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\\n}\\n\\n.send-btn[_ngcontent-%COMP%]:disabled {\\n  background: #ccc;\\n  cursor: not-allowed;\\n  transform: none;\\n  box-shadow: none;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .chat-header[_ngcontent-%COMP%] {\\n    padding: 1rem;\\n    flex-direction: column;\\n    gap: 1rem;\\n    text-align: center;\\n  }\\n\\n  .chat-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    font-size: 1.2rem;\\n  }\\n\\n  .message-content[_ngcontent-%COMP%] {\\n    max-width: 85%;\\n  }\\n\\n  .chat-input[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n  }\\n\\n  .input-container[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    gap: 0.75rem;\\n  }\\n\\n  .send-btn[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUJBQW1CO0FBQ25CO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxpQkFBaUI7RUFDakIsdUNBQXVDO0FBQ3pDOztBQUVBLFdBQVc7QUFDWDtFQUNFLDZEQUE2RDtFQUM3RCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLFNBQVM7RUFDVCxpQkFBaUI7RUFDakIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLG9CQUFvQjtFQUNwQixtQkFBbUI7RUFDbkIsb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usb0NBQW9DO0VBQ3BDLFlBQVk7RUFDWiwwQ0FBMEM7RUFDMUMsb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjs7QUFFQSxhQUFhO0FBQ2I7RUFDRSxPQUFPO0VBQ1AsZ0JBQWdCO0VBQ2hCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxXQUFXO0VBQ1gscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxPQUFPLFVBQVUsRUFBRSwyQkFBMkIsRUFBRTtFQUNoRCxLQUFLLFVBQVUsRUFBRSx3QkFBd0IsRUFBRTtBQUM3Qzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLDZEQUE2RDtFQUM3RCxZQUFZO0VBQ1osK0JBQStCO0FBQ2pDOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIscUJBQXFCO0VBQ3JCLGlCQUFpQjtFQUNqQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLHFCQUFxQjtBQUN2Qjs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYixRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsMkNBQTJDO0FBQzdDOztBQUVBLHNDQUFzQyx1QkFBdUIsRUFBRTtBQUMvRCxzQ0FBc0MsdUJBQXVCLEVBQUU7O0FBRS9EO0VBQ0UsZ0JBQWdCLHFCQUFxQixFQUFFLFlBQVksRUFBRTtFQUNyRCxNQUFNLG1CQUFtQixFQUFFLFVBQVUsRUFBRTtBQUN6Qzs7QUFFQSxVQUFVO0FBQ1Y7RUFDRSxpQkFBaUI7RUFDakIsNkJBQTZCO0VBQzdCLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGFBQWE7RUFDYixTQUFTO0VBQ1QscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsT0FBTztFQUNQLGdCQUFnQjtFQUNoQix5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixvQkFBb0I7RUFDcEIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLGFBQWE7RUFDYixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsNkRBQTZEO0VBQzdELFlBQVk7RUFDWixZQUFZO0VBQ1osdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLHlCQUF5QjtFQUN6QixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLCtDQUErQztBQUNqRDs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLGdCQUFnQjtBQUNsQjs7QUFFQSxlQUFlO0FBQ2Y7RUFDRTtJQUNFLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsU0FBUztJQUNULGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxzQkFBc0I7SUFDdEIsWUFBWTtFQUNkOztFQUVBO0lBQ0UsV0FBVztFQUNiO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDaGF0IENvbnRhaW5lciAqL1xyXG4uY2hhdC1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG4gIG1heC13aWR0aDogODAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG4vKiBIZWFkZXIgKi9cclxuLmNoYXQtaGVhZGVyIHtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBwYWRkaW5nOiAxcmVtIDJyZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDtcclxufVxyXG5cclxuLmNoYXQtaGVhZGVyIGgxIHtcclxuICBtYXJnaW46IDA7XHJcbiAgZm9udC1zaXplOiAxLjVyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLmNvbm5lY3Rpb24tc3RhdHVzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAwLjVyZW07XHJcbiAgZm9udC1zaXplOiAwLjlyZW07XHJcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XHJcbn1cclxuXHJcbi5zdGF0dXMtZG90IHtcclxuICB3aWR0aDogOHB4O1xyXG4gIGhlaWdodDogOHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBiYWNrZ3JvdW5kOiAjZmY0NDQ0O1xyXG59XHJcblxyXG4uY29ubmVjdGlvbi1zdGF0dXMuY29ubmVjdGVkIC5zdGF0dXMtZG90IHtcclxuICBiYWNrZ3JvdW5kOiAjNGNhZjUwO1xyXG59XHJcblxyXG4uY2xlYXItYnRuIHtcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcclxuICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbn1cclxuXHJcbi5jbGVhci1idG46aG92ZXI6bm90KDpkaXNhYmxlZCkge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcclxufVxyXG5cclxuLmNsZWFyLWJ0bjpkaXNhYmxlZCB7XHJcbiAgb3BhY2l0eTogMC41O1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbn1cclxuXHJcbi8qIE1lc3NhZ2VzICovXHJcbi5jaGF0LW1lc3NhZ2VzIHtcclxuICBmbGV4OiAxO1xyXG4gIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgcGFkZGluZzogMXJlbTtcclxuICBiYWNrZ3JvdW5kOiAjZjhmOWZhO1xyXG4gIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoO1xyXG59XHJcblxyXG4ud2VsY29tZS1tZXNzYWdlIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMnJlbTtcclxuICBjb2xvcjogIzY2NjtcclxufVxyXG5cclxuLndlbGNvbWUtbWVzc2FnZSBoMiB7XHJcbiAgY29sb3I6ICMzMzM7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG59XHJcblxyXG4ubWVzc2FnZSB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbjtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlSW4ge1xyXG4gIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTBweCk7IH1cclxuICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxyXG59XHJcblxyXG4udXNlci1tZXNzYWdlIHtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG59XHJcblxyXG4uYXNzaXN0YW50LW1lc3NhZ2Uge1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxufVxyXG5cclxuLm1lc3NhZ2UtY29udGVudCB7XHJcbiAgbWF4LXdpZHRoOiA3MCU7XHJcbiAgcGFkZGluZzogMXJlbTtcclxuICBib3JkZXItcmFkaXVzOiAxOHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbi51c2VyLW1lc3NhZ2UgLm1lc3NhZ2UtY29udGVudCB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLmFzc2lzdGFudC1tZXNzYWdlIC5tZXNzYWdlLWNvbnRlbnQge1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIGNvbG9yOiAjMzMzO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7XHJcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNXB4O1xyXG59XHJcblxyXG4ubWVzc2FnZS1oZWFkZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG4gIGZvbnQtc2l6ZTogMC44cmVtO1xyXG4gIG9wYWNpdHk6IDAuODtcclxufVxyXG5cclxuLm1lc3NhZ2Utcm9sZSB7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLm1lc3NhZ2UtdGV4dCB7XHJcbiAgbGluZS1oZWlnaHQ6IDEuNTtcclxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XHJcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xyXG59XHJcblxyXG4vKiBMb2FkaW5nIEFuaW1hdGlvbiAqL1xyXG4ubWVzc2FnZS10ZXh0LmxvYWRpbmcge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDAuNXJlbTtcclxufVxyXG5cclxuLnR5cGluZy1pbmRpY2F0b3Ige1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiAzcHg7XHJcbn1cclxuXHJcbi50eXBpbmctaW5kaWNhdG9yIHNwYW4ge1xyXG4gIHdpZHRoOiA2cHg7XHJcbiAgaGVpZ2h0OiA2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGJhY2tncm91bmQ6ICM5OTk7XHJcbiAgYW5pbWF0aW9uOiB0eXBpbmcgMS40cyBpbmZpbml0ZSBlYXNlLWluLW91dDtcclxufVxyXG5cclxuLnR5cGluZy1pbmRpY2F0b3Igc3BhbjpudGgtY2hpbGQoMSkgeyBhbmltYXRpb24tZGVsYXk6IC0wLjMyczsgfVxyXG4udHlwaW5nLWluZGljYXRvciBzcGFuOm50aC1jaGlsZCgyKSB7IGFuaW1hdGlvbi1kZWxheTogLTAuMTZzOyB9XHJcblxyXG5Aa2V5ZnJhbWVzIHR5cGluZyB7XHJcbiAgMCUsIDgwJSwgMTAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMC44KTsgb3BhY2l0eTogMC41OyB9XHJcbiAgNDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgb3BhY2l0eTogMTsgfVxyXG59XHJcblxyXG4vKiBJbnB1dCAqL1xyXG4uY2hhdC1pbnB1dCB7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlMGUwZTA7XHJcbiAgcGFkZGluZzogMXJlbTtcclxufVxyXG5cclxuLmlucHV0LWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBnYXA6IDFyZW07XHJcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xyXG59XHJcblxyXG4ubWVzc2FnZS1pbnB1dCB7XHJcbiAgZmxleDogMTtcclxuICBwYWRkaW5nOiAwLjc1cmVtO1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkICNlMGUwZTA7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICByZXNpemU6IG5vbmU7XHJcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XHJcbiAgbWF4LWhlaWdodDogMTIwcHg7XHJcbiAgbWluLWhlaWdodDogNDVweDtcclxuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4zcyBlYXNlO1xyXG59XHJcblxyXG4ubWVzc2FnZS1pbnB1dDpmb2N1cyB7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBib3JkZXItY29sb3I6ICM2NjdlZWE7XHJcbn1cclxuXHJcbi5tZXNzYWdlLWlucHV0OmRpc2FibGVkIHtcclxuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbn1cclxuXHJcbi5zZW5kLWJ0biB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHBhZGRpbmc6IDAuNzVyZW0gMS41cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICBtaW4td2lkdGg6IDgwcHg7XHJcbn1cclxuXHJcbi5zZW5kLWJ0bjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xyXG4gIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjQpO1xyXG59XHJcblxyXG4uc2VuZC1idG46ZGlzYWJsZWQge1xyXG4gIGJhY2tncm91bmQ6ICNjY2M7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICB0cmFuc2Zvcm06IG5vbmU7XHJcbiAgYm94LXNoYWRvdzogbm9uZTtcclxufVxyXG5cclxuLyogUmVzcG9uc2l2ZSAqL1xyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAuY2hhdC1oZWFkZXIge1xyXG4gICAgcGFkZGluZzogMXJlbTtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDFyZW07XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG5cclxuICAuY2hhdC1oZWFkZXIgaDEge1xyXG4gICAgZm9udC1zaXplOiAxLjJyZW07XHJcbiAgfVxyXG5cclxuICAubWVzc2FnZS1jb250ZW50IHtcclxuICAgIG1heC13aWR0aDogODUlO1xyXG4gIH1cclxuXHJcbiAgLmNoYXQtaW5wdXQge1xyXG4gICAgcGFkZGluZzogMC43NXJlbTtcclxuICB9XHJcblxyXG4gIC5pbnB1dC1jb250YWluZXIge1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMC43NXJlbTtcclxuICB9XHJcblxyXG4gIC5zZW5kLWJ0biB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","message_r2","role","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind2","timestamp","content","ɵɵelement","AppComponent","constructor","chatService","title","messages","currentMessage","conversationId","isLoading","isConnected","generateConversationId","ngOnInit","checkConnection","ngAfterViewChecked","scrollToBottom","healthCheck","subscribe","next","error","console","sendMessage","trim","userMessage","Date","push","request","message","messageToSend","response","success","assistantMessage","addErrorMessage","clearChat","clearChatHistory","onKeyPress","event","key","shiftKey","preventDefault","errorMessage","Math","random","toString","substr","chatContainer","nativeElement","scrollTop","scrollHeight","err","ɵɵdirectiveInject","i1","ChatService","selectors","viewQuery","AppComponent_Query","rf","ctx","ɵɵlistener","AppComponent_Template_button_click_7_listener","ɵɵrestoreView","_r1","ɵɵresetView","ɵɵtemplate","AppComponent_div_11_Template","AppComponent_div_12_Template","AppComponent_div_13_Template","ɵɵtwoWayListener","AppComponent_Template_textarea_ngModelChange_16_listener","$event","ɵɵtwoWayBindingSet","AppComponent_Template_textarea_keydown_16_listener","AppComponent_Template_button_click_18_listener","AppComponent_span_19_Template","AppComponent_span_20_Template","ɵɵtextInterpolate1","ɵɵproperty","length","ɵɵtwoWayProperty"],"sources":["D:\\LLM\\Docker\\frontend\\src\\app\\app.component.ts","D:\\LLM\\Docker\\frontend\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, AfterViewChecked } from '@angular/core';\r\nimport { ChatService } from './chat.service';\r\nimport { ChatMessage, ChatRequest } from './models/chat.models';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit, AfterViewChecked {\r\n  @ViewChild('chatContainer') private chatContainer!: ElementRef;\r\n  \r\n  title = 'DeepSeek Chat';\r\n  messages: ChatMessage[] = [];\r\n  currentMessage = '';\r\n  conversationId = '';\r\n  isLoading = false;\r\n  isConnected = false;\r\n\r\n  constructor(private chatService: ChatService) {\r\n    this.conversationId = this.generateConversationId();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.checkConnection();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  checkConnection() {\r\n    this.chatService.healthCheck().subscribe({\r\n      next: () => {\r\n        this.isConnected = true;\r\n      },\r\n      error: (error) => {\r\n        console.error('Connection failed:', error);\r\n        this.isConnected = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.currentMessage.trim() || this.isLoading) {\r\n      return;\r\n    }\r\n\r\n    const userMessage: ChatMessage = {\r\n      role: 'user',\r\n      content: this.currentMessage,\r\n      timestamp: new Date()\r\n    };\r\n\r\n    this.messages.push(userMessage);\r\n    this.isLoading = true;\r\n\r\n    const request: ChatRequest = {\r\n      message: this.currentMessage,\r\n      conversationId: this.conversationId\r\n    };\r\n\r\n    const messageToSend = this.currentMessage;\r\n    this.currentMessage = '';\r\n\r\n    this.chatService.sendMessage(request).subscribe({\r\n      next: (response) => {\r\n        if (response.success) {\r\n          const assistantMessage: ChatMessage = {\r\n            role: 'assistant',\r\n            content: response.response,\r\n            timestamp: new Date()\r\n          };\r\n          this.messages.push(assistantMessage);\r\n          this.conversationId = response.conversationId;\r\n        } else {\r\n          this.addErrorMessage(response.error || 'Unknown error occurred');\r\n        }\r\n        this.isLoading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error sending message:', error);\r\n        this.addErrorMessage('Failed to send message. Please try again.');\r\n        this.isLoading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  clearChat() {\r\n    this.chatService.clearChatHistory(this.conversationId).subscribe({\r\n      next: () => {\r\n        this.messages = [];\r\n        this.conversationId = this.generateConversationId();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error clearing chat:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  onKeyPress(event: KeyboardEvent) {\r\n    if (event.key === 'Enter' && !event.shiftKey) {\r\n      event.preventDefault();\r\n      this.sendMessage();\r\n    }\r\n  }\r\n\r\n  private addErrorMessage(error: string) {\r\n    const errorMessage: ChatMessage = {\r\n      role: 'assistant',\r\n      content: `Error: ${error}`,\r\n      timestamp: new Date()\r\n    };\r\n    this.messages.push(errorMessage);\r\n  }\r\n\r\n  private generateConversationId(): string {\r\n    return 'conv_' + Math.random().toString(36).substr(2, 9);\r\n  }\r\n\r\n  private scrollToBottom(): void {\r\n    try {\r\n      this.chatContainer.nativeElement.scrollTop = this.chatContainer.nativeElement.scrollHeight;\r\n    } catch(err) {}\r\n  }\r\n} ","<div class=\"chat-container\">\r\n  <div class=\"chat-header\">\r\n    <h1>{{ title }}</h1>\r\n    <div class=\"connection-status\" [class.connected]=\"isConnected\" [class.disconnected]=\"!isConnected\">\r\n      <span class=\"status-dot\"></span>\r\n      {{ isConnected ? 'Connected' : 'Disconnected' }}\r\n    </div>\r\n    <button class=\"clear-btn\" (click)=\"clearChat()\" [disabled]=\"messages.length === 0\">\r\n      Clear Chat\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"chat-messages\" #chatContainer>\r\n    <div *ngIf=\"messages.length === 0\" class=\"welcome-message\">\r\n      <h2>Welcome to DeepSeek Chat!</h2>\r\n      <p>Start a conversation by typing your message below.</p>\r\n    </div>\r\n    \r\n    <div *ngFor=\"let message of messages\" class=\"message\" [class.user-message]=\"message.role === 'user'\" [class.assistant-message]=\"message.role === 'assistant'\">\r\n      <div class=\"message-content\">\r\n        <div class=\"message-header\">\r\n          <span class=\"message-role\">{{ message.role === 'user' ? 'You' : 'Assistant' }}</span>\r\n          <span class=\"message-time\">{{ message.timestamp | date:'short' }}</span>\r\n        </div>\r\n        <div class=\"message-text\">{{ message.content }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"isLoading\" class=\"message assistant-message\">\r\n      <div class=\"message-content\">\r\n        <div class=\"message-header\">\r\n          <span class=\"message-role\">Assistant</span>\r\n        </div>\r\n        <div class=\"message-text loading\">\r\n          <div class=\"typing-indicator\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </div>\r\n          Thinking...\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"chat-input\">\r\n    <div class=\"input-container\">\r\n      <textarea \r\n        [(ngModel)]=\"currentMessage\" \r\n        (keydown)=\"onKeyPress($event)\"\r\n        placeholder=\"Type your message here... (Press Enter to send, Shift+Enter for new line)\"\r\n        [disabled]=\"isLoading || !isConnected\"\r\n        rows=\"1\"\r\n        class=\"message-input\">\r\n      </textarea>\r\n      <button \r\n        class=\"send-btn\" \r\n        (click)=\"sendMessage()\" \r\n        [disabled]=\"!currentMessage.trim() || isLoading || !isConnected\">\r\n        <span *ngIf=\"!isLoading\">Send</span>\r\n        <span *ngIf=\"isLoading\">Sending...</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}